# 飞书机器人助手工作流参考

## 触发器类型汇总

### 系统内置触发器

| 触发器 | 说明 | 配置项 |
| ------ | ---- | ------ |
| 定时任务 | 按时间触发 | 时间、频率、时区 |
| 工作表变化 | 数据变动触发 | 表格、变化类型 |
| 机器人会话首次创建 | 首次打开机器人 | 无 |
| 单聊机器人消息 | 私聊关键词触发 | 关键词 |
| @机器人群聊消息 | 群内@触发 | 群组、关键词 |

### 飞书集成触发器

| 触发器 | 说明 |
| ------ | ---- |
| 新员工入职 | 账号激活触发 |
| 多维表格内容变更 | 记录变更触发 |
| 多维表格新增记录 | 新增记录触发 |
| 用户进群 | 入群触发 |
| 收到新审批 | 审批状态变更 |

### 应用连接器触发器

| 触发器 | 说明 |
| ------ | ---- |
| Webhook | 接收HTTP请求 |
| GitLab | commit/MR/Issue |
| Sentry | 错误事件 |
| Grafana | 监控告警 |
| Gmail | 新邮件 |

## 操作节点汇总

### 系统内置操作

- 筛选：设置条件筛选数据
- 查找：查找特定记录
- 填写表单：发送表单
- 新增/修改/删除记录
- 延迟：延迟执行

### 飞书集成操作

- 发送飞书消息
- 创建飞书群
- 添加群成员
- 更新群信息
- 创建飞书日程
- 查找员工入职信息
- 多维表格操作
- 电子表格操作
- 创建文档

### 应用连接器操作

- 发送HTTP请求

## 常见工作流模式

```text
# 模式1：定时推送
定时任务 → 发送飞书消息

# 模式2：数据变化通知
工作表变化 → 发送飞书消息

# 模式3：外部集成
Webhook → 发送飞书消息

# 模式4：入职流程
新员工入职 → 发送消息 → 创建群 → 添加成员

# 模式5：二次提醒
定时任务 → 发送消息 → 延迟 → 发送消息
```

## 注意事项

1. 群消息需确保群设置允许"所有群成员"发言
2. 消息接收者必须在应用可用范围内
3. 可用范围：部门无上限，人员上限 1000
4. 新增权限需管理员审核
